## Описание задачи:
## Задание: Отчет по продажам
Вы разрабатываете онлайн веб-приложение для генерации отчетов от сети продаж. Владельцы торговой сети (конечные пользователи системы) хотят оперативно получать отчеты о том как идут дела на их точках продаж, какая выручка, какие товары проданы и т.д. Системы внутри торговых точек (тоже конечные пользователи системы) должны используя ваш сервис отчитываться о совершенных продажах товаров чтобы централизованно происходил сбор таких данных. Продажи совершаются часто по этому имеет смысл заложить в сервис способность справляться с большими нагрузками.
## Требования:
 - реализуйте асинхронное веб приложение которое
 - обрабатывает GET-запрос на получение всех товарных позиций
 - oбрабатывает GET-запрос на получение всех магазинов
 - обрабатывает POST-запрос с json-телом для сохранения данных о произведенной продаже (id товара + id магазина)
 - обрабатывает GET-запрос на получение данных по топ 10 самых доходных магазинов за месяц (id + адрес + суммарная выручка)
 - обрабатывает GET-запрос на получение данных по топ 10 самых продаваемых товаров (id + наименование + количество проданных товаров)
 - никакие лишние эндпоинты реализовывать не требуется
 - напишите readme.md с кратким описанием эндпоинтов и инструкцией запуска
 - используйте requirements.txt для указания сторонних зависимостей и их версий
 - используйте postgres или sqlite в качестве базы.
 - используйте асинхронный веб-фреймворк на ваш выбор и асинхронный драйвер подключения к бд на ваш выбор.
 - в качестве ориентира модели данных можно(а можно и не) использовать приведенную ниже dbml схему (визуализировать ее можно инструментом dbdiagram.io). однако это не обязательно, можно разработать собственное целевое понимание модели данных (приведенная модель будет приложена в HTML файле).

## Ожидаемый результат
 - Реализуйте программу согласно требованиям описанным выше.	

## Выполнение задачи

### Некоторые особенности:
 - Проект выполнен на django, а это не асинхронный фреймворк. Конечно, с версии 3.1 появилась возможность использовать async views, но о реализации асинхронной поддержки api информации нет. Решением этой проблемы может быть отказ от djangorestframework и переход на JsonResponse + django async views.

 - Стандартный django orm также полностью не поддерживает asyncronous support, поэтому этот вопрос еще изучается. Возможно переопределение стандартного django orm и в целом адаптера к бд.

 - Схему базы данных я немного расширил для того, чтобы она была интереснее)

###  Описание эндпоинтов:

 - ProductListView это представление-класс, которое возвращает все товарные позиции
 - SalePointListView это представление-класс, которое возвращает все магазины
 - add_purchase_view - функция - представление, которая позволяет добавлять покупки для конкретного магазина
 - BestSalePointView это представление-класс, которое возвращает топ самых прибыльных магазинов
 - BestSoldProductsView это представление-класс, которое возвращает топ самых продаваемых товаров

### Настройка виртуального окружения

В тз было рекоммендовано использовать requirements.txt со списком зависимостей и версий, но в проекте я использовал poetry - более продвинутый инструмент для создания виртуального окружения. 

референс по poetry - https://habr.com/ru/post/593529/

Проект можно развернуть следующим образом:

    $ git clone <reference>

    $ poetry install && poetry shell # устанавливаем зависимости и активируем окружение

    $ python manage.py migrate

    $ python manage.py runserver 127.0.0.1:8000


### Написание README

readme файл был написан)

### База данных

В качестве базы данных использовалась sqlite3, возможен будущий переход на postgresql

### Разработка

 - Приложение находится в стадии разработки(скорее исследования по внедрению асинхронности) и возможно, скоро обновится)





